<DSxDevCodeGen
  ExtensionName="DialogDesigner"
  EngineVersion="1.0">
  <Content
    Version="1.1"
    HasDesign="true">
    <DesignModel>
      <RootWidget
        Type="CATDlgDialog"
        ID="77af8c41-7c8e-4937-942d-b462e81060ce"
        Version="1.0"
        Name="CMSystemGTOOperationDuplicateDlg"
        UseOKButton="true"
        UseCancelButton="true"
        UseApplyButton="true"
        AutoResize="true"
        Title="工序复用">
        <Children
          Type="List">
          <Item
            Type="CATDlgFrame"
            ID="b07dbd0e-36cb-4e5f-8df9-33c576693e1b"
            Version="1.0"
            Name="Frame1"
            Title="GTO">
            <GridLayoutConstraint
              Row="0"
              Col="0"
              Width="2"
              Height="1">
              <Anchor
                AttachedToLeft="true"
                AttachedToRight="true"
                AttachedToTop="true"
                AttachedToBottom="true"
                ConstantWidth="false"
                ConstantHeight="false" />
            </GridLayoutConstraint>
            <Children
              Type="List">
              <Item
                Type="CATDlgEditor"
                ID="30b3097a-9c6f-4344-a38a-cb69bade91e5"
                Version="1.0"
                Name="Editor_GTOName"
                Enabled="false">
                <GridLayoutConstraint
                  Row="0"
                  Col="1"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="true"
                    AttachedToTop="false"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgLabel"
                ID="ca6b99f0-736d-4efb-bdbd-c1f1a964fc93"
                Version="1.0"
                Name="Label2"
                Title="GTO源">
                <GridLayoutConstraint
                  Row="0"
                  Col="0"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="false"
                    AttachedToTop="true"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgLabel"
                ID="9c743a13-a8b6-4019-a41e-696d40d6dccb"
                Version="1.0"
                Name="Label6"
                Title="GTO目标">
                <GridLayoutConstraint
                  Row="1"
                  Col="0"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="false"
                    AttachedToTop="true"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgEditor"
                ID="e2bbdbfc-760a-4b92-818d-96d6bb18a39e"
                Version="1.0"
                Name="Editor_GTOTarget"
                Enabled="false">
                <GridLayoutConstraint
                  Row="1"
                  Col="1"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="true"
                    AttachedToTop="false"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgEditor"
                ID="00467abc-ac4e-4c06-af6a-06295fe2e112"
                Version="1.0"
                Name="Editor_GTOCode"
                EditorType="Alphanumerical"
                Visible="false">
                <GridLayoutConstraint
                  Row="2"
                  Col="1"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="false"
                    AttachedToTop="false"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgLabel"
                ID="c694cd44-654f-4dad-952b-1c26c1eab269"
                Version="1.0"
                Name="Label1"
                Visible="false"
                Title="GTO编码">
                <GridLayoutConstraint
                  Row="2"
                  Col="0"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="false"
                    AttachedToTop="true"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
            </Children>
            <GridResizableData>
              <ResizableRows
                Type="List" />
              <ResizableColumns
                Type="ScalarList"
                Value="0;1;2;3;4;5;6;7;8;9;10;11;12;13;14;15;16" />
            </GridResizableData>
          </Item>
          <Item
            Type="CATDlgFrame"
            ID="41e2ed57-c4f3-4e05-b05d-62c900690294"
            Version="1.0"
            Name="Frame2"
            Title="选择工序">
            <GridLayoutConstraint
              Row="1"
              Col="0"
              Width="2"
              Height="1">
              <Anchor
                AttachedToLeft="true"
                AttachedToRight="true"
                AttachedToTop="true"
                AttachedToBottom="true"
                ConstantWidth="false"
                ConstantHeight="false" />
            </GridLayoutConstraint>
            <Children
              Type="List">
              <Item
                Type="CATDlgLabel"
                ID="247e3a44-01cc-4802-bb0a-25533edce1f9"
                Version="1.0"
                Name="Label4"
                Title="GTO工序">
                <GridLayoutConstraint
                  Row="0"
                  Col="1"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="false"
                    AttachedToTop="true"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgLabel"
                ID="de92e39e-bb8f-4418-b8ae-850c3535a990"
                Version="1.0"
                Name="Label5"
                Title="选择复用的工序">
                <GridLayoutConstraint
                  Row="0"
                  Col="8"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="false"
                    AttachedToTop="true"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgLabel"
                ID="8e2ebcdc-453e-462f-ad72-d4ed5ce2ade7"
                Version="1.0"
                Name="Label3"
                Title="工序选择">
                <GridLayoutConstraint
                  Row="5"
                  Col="0"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="false"
                    AttachedToTop="true"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgPushButton"
                ID="f02f5891-c884-40cf-aaaa-7ccb5cbe327f"
                Version="1.0"
                Name="PushButton_DeleteAll"
                Title="&lt;&lt;">
                <GridLayoutConstraint
                  Row="6"
                  Col="7"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="false"
                    AttachedToTop="true"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgPushButton"
                ID="cd619510-0531-4a98-be5b-ea19dbebcffb"
                Version="1.0"
                Name="PushButton_Delete"
                Title=" &lt; ">
                <GridLayoutConstraint
                  Row="4"
                  Col="7"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="false"
                    AttachedToTop="true"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgPushButton"
                ID="27b3c47d-9fbe-43e2-af49-dda6323f0252"
                Version="1.0"
                Name="PushButton_Add"
                Title=" &gt; ">
                <GridLayoutConstraint
                  Row="2"
                  Col="7"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="false"
                    AttachedToTop="true"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgSelectorList"
                ID="e6c5a8ef-76bc-4eaf-ad0d-a63926264f3b"
                Version="1.0"
                Name="SelectorList_GTOOperatoinsDup">
                <GridLayoutConstraint
                  Row="1"
                  Col="8"
                  Width="5"
                  Height="10">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="true"
                    AttachedToTop="true"
                    AttachedToBottom="true"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgSelectorList"
                ID="7d86a4ac-a439-4b91-ac4d-0b243af2e063"
                Version="1.0"
                Name="SelectorList_GTOOperations">
                <GridLayoutConstraint
                  Row="1"
                  Col="1"
                  Width="6"
                  Height="10">
                  <Anchor
                    AttachedToLeft="true"
                    AttachedToRight="true"
                    AttachedToTop="true"
                    AttachedToBottom="true"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
              <Item
                Type="CATDlgPushButton"
                ID="30b7ecae-83f5-470a-9b24-c3198edcf0cc"
                Version="1.0"
                Name="PushButton_Search"
                Visible="false"
                Title="搜索">
                <GridLayoutConstraint
                  Row="4"
                  Col="0"
                  Width="1"
                  Height="1">
                  <Anchor
                    AttachedToLeft="false"
                    AttachedToRight="false"
                    AttachedToTop="false"
                    AttachedToBottom="false"
                    ConstantWidth="false"
                    ConstantHeight="false" />
                </GridLayoutConstraint>
              </Item>
            </Children>
            <GridResizableData>
              <ResizableRows
                Type="ScalarList"
                Value="0;1;2;3;4;5;6;7;8;9;10" />
              <ResizableColumns
                Type="ScalarList"
                Value="1;2;3;4;5;6;8;9;10;11;12" />
            </GridResizableData>
          </Item>
        </Children>
        <GridResizableData>
          <ResizableRows
            Type="ScalarList"
            Value="1" />
          <ResizableColumns
            Type="ScalarList"
            Value="1" />
        </GridResizableData>
      </RootWidget>
    </DesignModel>
    <CodeModel>
      <UserCodes>
        <ClassIncludes>
          <UserCode><![CDATA[
#include <vector>
#include <algorithm>
#include <functional>
#include "CATIPLMNavReference.h"
#include "CATIPLMNavInstance.h"
enum COMDuplicateGTOOPDlg_ControlID
{
	ID_GTOPartCodeEditor,					//CUS_GTOPart_PartCode
	ID_GTOPartNameEdiror,					//CUS_GTOPart_PartName
	ID_GTOTargetEditor,
	ID_GTOOperatoinsDupSelectorList,		//_SelectorList_GTOOperatoinsDup
	ID_GTOOperationsSelectorList,			//_SelectorList_GTOOperations
	ID_GTOSearchButton,						//_PushButton_Search;
	ID_GTOAddButton,						//_PushButton_Add;
	ID_GTODeleteButton,						//_PushButton_Delete;
	ID_GTODeleteAll							// _PushButton_DeleteAll;
};


struct DuplicateOPStruct
{
	DuplicateOPStruct(void)
	{
		this->isDuplicate = FALSE;
		this->pOperationOcc = NULL;
		this->pOperationRef = NULL;
		this->sOPExternalID = "";
		this->sOperationName = "";
	}
	DuplicateOPStruct(CATUnicodeString sOPExternalID)
	{
		this->isDuplicate = FALSE;
		this->sOPExternalID = sOPExternalID;
		this->sOperationName = "";
		this->pOperationOcc = NULL;
		this->pOperationRef = NULL;
	}
	CATBoolean operator() (DuplicateOPStruct& item)
	{
		if (this->sOPExternalID == item.sOPExternalID)
		{
			item.isDuplicate = TRUE;
			return TRUE;
		}
		return FALSE;
	}
	CATBoolean operator==(const DuplicateOPStruct& item)
	{
		if (this->sOPExternalID == item.sOPExternalID)
		{
			return TRUE;
		}
		return FALSE;
	}
	void operator= (const DuplicateOPStruct& item)
	{
		this->isDuplicate = FALSE;
		this->pOperationOcc = item.pOperationOcc;
		this->pOperationRef = item.pOperationRef;
		this->sOPExternalID = item.sOPExternalID;
		this->sOperationName = item.sOperationName;
	}
	CATIPLMNavOccurrence* pOperationOcc;
	CATIPLMNavReference* pOperationRef;
	CATUnicodeString	sOPExternalID;
	CATUnicodeString	sOperationName;
	CATBoolean			isDuplicate;
};
typedef std::vector<DuplicateOPStruct> VECDUPOpeartion;
typedef VECDUPOpeartion::iterator	VEC_DUPOperation_ITER;

]]></UserCode>
        </ClassIncludes>
        <ClassMembers>
          <UserCode><![CDATA[
public:
	CATDlgEditor* GetEditor(int iCtrlID);
	CATDlgSelectorList* GetSelector(int iCtrlID);
	CATDlgPushButton* GetPushBtn(int iCtrlID);

]]></UserCode>
        </ClassMembers>
        <ImplementIncludes>
          <UserCode><![CDATA[
#include "CATListPtrCATIPLMNavReference.h"
#include "CATListPtrCATIPLMNavEntity.h"
#include "CATIPLMNavRepInstance.h"
#include "CUSCAAUtilService.h"

#include "CATOmbLifeCycleRootsBag.h"
#include "CATAdpOpenParameters.h"
#include "CATPLMSessionServices.h"

]]></UserCode>
        </ImplementIncludes>
        <DialogConstructor>
          <UserCode><![CDATA[


]]></UserCode>
        </DialogConstructor>
        <DialogDefaultConstructor>
          <UserCode><![CDATA[


]]></UserCode>
        </DialogDefaultConstructor>
        <DialogDestructor>
          <UserCode><![CDATA[


]]></UserCode>
        </DialogDestructor>
        <PreBuildCode>
          <UserCode><![CDATA[


]]></UserCode>
        </PreBuildCode>
        <BuildAdditionalCode>
          <UserCode><![CDATA[


]]></UserCode>
        </BuildAdditionalCode>
        <UserActivateCode>
          <UserCode><![CDATA[


]]></UserCode>
        </UserActivateCode>
        <UserDesactivateCode>
          <UserCode><![CDATA[


]]></UserCode>
        </UserDesactivateCode>
        <UserCancelCode>
          <UserCode><![CDATA[


]]></UserCode>
        </UserCancelCode>
        <UserImplementCode>
          <UserCode><![CDATA[

/*
	ID_GTOPartCodeEditor,					//CUS_GTOPart_PartCode
	ID_GTOPartNameEdiror,					//CUS_GTOPart_PartName
	ID_GTOOperatoinsDupSelectorList,		//_SelectorList_GTOOperatoinsDup
	ID_GTOOperationsSelectorList,			//_SelectorList_GTOOperations
	ID_GTOSearchButton,						//_PushButton_Search;
	ID_GTOAddButton,						//_PushButton_Add;
	ID_GTODeleteButton,						//_PushButton_Delete;
	ID_GTODeleteAll							// _PushButton_DeleteAll;
*/
CATDlgEditor* CMSystemGTOOperationDuplicateDlg::GetEditor(int iCtrlID)
{
	CATDlgEditor* pEditor = NULL;
	switch (iCtrlID)
	{
	case ID_GTOPartCodeEditor:
		pEditor = _Editor_GTOCode;
		break;
	case ID_GTOPartNameEdiror:
		pEditor = _Editor_GTOName;
		break;
	case ID_GTOTargetEditor:
		pEditor = _Editor_GTOTarget;
		break;
	default:
		break;
	}
	return pEditor;
}

CATDlgPushButton* CMSystemGTOOperationDuplicateDlg::GetPushBtn(int iCtrlID)
{
	CATDlgPushButton* pButton = NULL;
	switch (iCtrlID)
	{
	case ID_GTOSearchButton:
		pButton = _PushButton_Search;
		break;
	case ID_GTOAddButton:
		pButton = _PushButton_Add;
		break;
	case ID_GTODeleteButton:
		pButton = _PushButton_Delete;
		break;
	case ID_GTODeleteAll:
		pButton = _PushButton_DeleteAll;
		break;
	default:
		break;
	}
	return pButton;
}

CATDlgSelectorList* CMSystemGTOOperationDuplicateDlg::GetSelector(int iCtrlID)
{
	CATDlgSelectorList* pSelectorList = NULL;
	switch (iCtrlID)
	{
	case ID_GTOOperationsSelectorList:
		pSelectorList = _SelectorList_GTOOperations;
		break;
	case ID_GTOOperatoinsDupSelectorList:
		pSelectorList = _SelectorList_GTOOperatoinsDup;
		break;
	default:
		break;
	}
	return pSelectorList;
}


]]></UserCode>
        </UserImplementCode>
      </UserCodes>
      <Callbacks
        Type="List" />
    </CodeModel>
    <FileInfo
      Visibility="Local"
      HandleResources="true"
      ModuleResources="" />
  </Content>
</DSxDevCodeGen>
